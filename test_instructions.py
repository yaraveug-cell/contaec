#!/usr/bin/env python
"""
Generar URL de prueba actualizada con JavaScript mejorado
"""

print("ğŸ”§ JAVASCRIPT MEJORADO - NUEVA PRUEBA")
print("=" * 40)
print("")
print("ğŸ“ Se agregaron mejoras a JavaScript:")
print("   âœ… waitForOptionsAndLoadState() - espera opciones cargadas")
print("   âœ… Logs detallados en consola del navegador")
print("   âœ… VerificaciÃ³n robusta de timing")
print("")
print("ğŸŒ PROBAR EN NAVEGADOR:")
print("   1. Abrir: http://localhost:8000/admin/invoicing/invoice/99/change/")
print("   2. Abrir consola navegador (F12)")
print("   3. Recargar pÃ¡gina (F5)")
print("   4. Verificar logs en consola")
print("")
print("âœ… DEBE MOSTRAR:")
print("   - 'Transferencia' seleccionada")
print("   - Campo 'Cuenta' oculto")
print("   - Selector 'Cuenta Bancaria' con 'PICHINCHA - ****9377' PRE-SELECCIONADO")
print("   - Observaciones cargadas en textarea")
print("")
print("ğŸ” LOGS EN CONSOLA DEBEN MOSTRAR:")
print("   - 'âœ… Opciones cargadas, procediendo con loadInitialState'")
print("   - 'âœ… Cuenta bancaria pre-seleccionada: PICHINCHA - ...'")
print("   - 'âœ… Chart Account ID coincidente: 39'")
print("")
print("âŒ SI SIGUE FALLANDO, verificar:")
print("   - Â¿Las opciones se cargan correctamente?")
print("   - Â¿El dataset.chartAccountId estÃ¡ presente?")
print("   - Â¿El valor se asigna pero no se muestra?")